{"ast":null,"code":"import e, { useRef as t, useEffect as n } from \"react\";\nimport { createRoot as o } from \"react-dom/client\";\nfunction c(c, r, d) {\n  var u = {\n      count: 0\n    },\n    i = function i(e) {\n      var o = t(u.count);\n      return n(function () {\n        o.current += 1, o.current === u.count + 1 && (o.current -= 1, r.setState(e));\n      }), null;\n    };\n  if (i.displayName = \"((\".concat(c, \")) devtool\"), \"undefined\" == typeof document) return;\n  if (!d) {\n    var _e = document.getElementById(\"simple-zustand-devtools-\".concat(c));\n    _e || (_e = document.createElement(\"div\"), _e.id = \"simple-zustand-devtools-\".concat(c)), document.body.appendChild(_e), d = _e;\n  }\n  var m = o(d),\n    s = function s(t) {\n      t && (m.render(e.createElement(i, Object.assign({}, t))), u.count += 1);\n    };\n  s(r.getState()), r.subscribe(s);\n}\nexport { c as mountStoreDevtool };","map":{"version":3,"names":["c","r","d","u","count","i","e","o","t","n","current","setState","displayName","concat","document","getElementById","createElement","id","body","appendChild","m","s","render","Object","assign","getState","subscribe","mountStoreDevtool"],"sources":["D:\\Japhe\\Code\\ewriters-mega\\e\\ewriters\\node_modules\\simple-zustand-devtools\\src\\index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { UseStore } from 'zustand';\n\nexport function mountStoreDevtool<T extends object = Record<string | number | symbol, any>>(\n  storeName: string,\n  store: UseStore<T>,\n  rootElement?: HTMLElement\n) {\n  type StoreState = ReturnType<UseStore<T>['getState']>;\n\n  const externalUpdates = {\n    count: 0,\n  };\n\n  const ZustandDevtool: React.FC<StoreState> = props => {\n    const allUpdatesCount = useRef(externalUpdates.count);\n\n    useEffect(() => {\n      allUpdatesCount.current += 1;\n      if (allUpdatesCount.current === externalUpdates.count + 1) {\n        allUpdatesCount.current -= 1;\n\n        // DevTools update\n        store.setState(props);\n      }\n    });\n\n    return null;\n  };\n\n  (ZustandDevtool as any).displayName = `((${storeName})) devtool`;\n  \n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (!rootElement) {\n    let root = document.getElementById(`simple-zustand-devtools-${storeName}`);\n    if (!root) {\n      root = document.createElement('div');\n      root.id = `simple-zustand-devtools-${storeName}`;\n    }\n\n    document.body.appendChild(root);\n    rootElement = root;\n  }\n  const newRoot = createRoot(rootElement)\n  const renderDevtool = (state: StoreState | void) => {\n    if (!state) {\n      return;\n    }\n    newRoot.render(<ZustandDevtool {...state} />);\n    externalUpdates.count += 1;\n  };\n\n  renderDevtool(store.getState());\n  store.subscribe(renderDevtool);\n}\n"],"mappings":";;SAIgBA,EACdA,CAAA,EACAC,CAAA,EACAC,CAAA;EAIA,IAAMC,CAAA,GAAkB;MACtBC,KAAA,EAAO;IAAA;IAGHC,CAAA,GAAuC,SAAvCA,EAAuCC,CAAA;MAC3C,IAAMC,CAAA,GAAkBC,CAAA,CAAOL,CAAA,CAAgBC,KAAA;MAY/C,OAVAK,CAAA,CAAU;QACRF,CAAA,CAAgBG,OAAA,IAAW,GACvBH,CAAA,CAAgBG,OAAA,KAAYP,CAAA,CAAgBC,KAAA,GAAQ,MACtDG,CAAA,CAAgBG,OAAA,IAAW,GAG3BT,CAAA,CAAMU,QAAA,CAASL,CAAA;MAAA,IAIZ;IAAA;EAKT,IAFCD,CAAA,CAAuBO,WAAA,QAAAC,MAAA,CAAmBb,CAAA,iBAEnB,sBAAbc,QAAA,EACT;EAGF,KAAKZ,CAAA,EAAa;IAChB,IAAII,EAAA,GAAOQ,QAAA,CAASC,cAAA,4BAAAF,MAAA,CAA0Cb,CAAA;IACzDM,EAAA,KACHA,EAAA,GAAOQ,QAAA,CAASE,aAAA,CAAc,QAC9BV,EAAA,CAAKW,EAAA,8BAAAJ,MAAA,CAAgCb,CAAA,IAGvCc,QAAA,CAASI,IAAA,CAAKC,WAAA,CAAYb,EAAA,GAC1BJ,CAAA,GAAcI,EAAA;EAAA;EAEhB,IAAMc,CAAA,GAAUb,CAAA,CAAWL,CAAA;IACrBmB,CAAA,GAAiB,SAAjBA,EAAiBb,CAAA;MAChBA,CAAA,KAGLY,CAAA,CAAQE,MAAA,CAAOhB,CAAA,CAAAU,aAAA,CAACX,CAAA,EAAAkB,MAAA,CAAAC,MAAA,KAAmBhB,CAAA,KACnCL,CAAA,CAAgBC,KAAA,IAAS;IAAA;EAG3BiB,CAAA,CAAcpB,CAAA,CAAMwB,QAAA,KACpBxB,CAAA,CAAMyB,SAAA,CAAUL,CAAA;AAAA;AAAA,SAAArB,CAAA,IAAA2B,iBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}