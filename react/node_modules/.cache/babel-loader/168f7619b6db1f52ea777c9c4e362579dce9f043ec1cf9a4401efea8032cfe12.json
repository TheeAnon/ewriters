{"ast":null,"code":"import _defineProperty from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Header from\"../components/Header\";import{redirect}from\"react-router-dom\";import{reset_password_confirm}from\"../actions/auth\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPasswordConfirm(_ref){var match=_ref.match,reset_password_confirm=_ref.reset_password_confirm;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),passwordSaved=_useState2[0],setPasswordSaved=_useState2[1];var _useState3=useState({new_password:\"\",re_new_password:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var new_password=formData.new_password,re_new_password=formData.re_new_password;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();var uid=match.params.uid;var token=match.params.token;reset_password_confirm(uid,token,new_password,re_new_password);setPasswordSaved(true);};if(passwordSaved){redirect(\"/\");}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-5\",children:\"SET NEW PASSWORD\"}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",className:\"space-y-4 pt-10\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control w-full \",children:/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"new_password\",value:new_password,autoComplete:\"off\",onChange:function onChange(e){return _onChange(e);},placeholder:\"New Password\",className:\"input input-bordered w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control w-full \",children:/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"re_new_password\",value:re_new_password,autoComplete:\"off\",onChange:function onChange(e){return _onChange(e);},placeholder:\"Confirm New Password\",className:\"input input-bordered w-full\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"SAVE\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-sm text-gray-600 hover:underline hover:text-blue-600\",children:\"Remembered password? Login\"})})]})]})})]});}export default connect(null,{reset_password_confirm:reset_password_confirm})(ResetPasswordConfirm);","map":{"version":3,"names":["React","useState","Header","redirect","reset_password_confirm","connect","jsx","_jsx","jsxs","_jsxs","ResetPasswordConfirm","_ref","match","_useState","_useState2","_slicedToArray","passwordSaved","setPasswordSaved","_useState3","new_password","re_new_password","_useState4","formData","setFormData","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","preventDefault","uid","params","token","children","className","autoComplete","required","type","placeholder","href"],"sources":["D:/Japhe/Code/django-react/ewriters/react/src/pages/ResetPasswordConfirm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { redirect } from \"react-router-dom\";\r\nimport { reset_password_confirm } from \"../actions/auth\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction ResetPasswordConfirm({ match, reset_password_confirm }) {\r\n  const [passwordSaved, setPasswordSaved] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    new_password: \"\",\r\n    re_new_password: \"\",\r\n  });\r\n\r\n  const { new_password, re_new_password } = formData;\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const uid = match.params.uid;\r\n    const token = match.params.token;\r\n\r\n    reset_password_confirm(uid, token, new_password, re_new_password);\r\n    setPasswordSaved(true);\r\n  };\r\n\r\n  if (passwordSaved) {\r\n    redirect(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"relative flex flex-col justify-center overflow-hidden mt-3\">\r\n        <div className=\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\">\r\n          <h1 className=\"text-4xl font-bold text-center mb-5\">\r\n            SET NEW PASSWORD\r\n          </h1>\r\n          <form\r\n            autoComplete=\"off\"\r\n            className=\"space-y-4 pt-10\"\r\n            onSubmit={(e) => onSubmit(e)}\r\n          >\r\n            <div className=\"form-control w-full \">\r\n              <input\r\n                required\r\n                type=\"password\"\r\n                name=\"new_password\"\r\n                value={new_password}\r\n                autoComplete=\"off\"\r\n                onChange={(e) => onChange(e)}\r\n                placeholder=\"New Password\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n            </div>\r\n            <div className=\"form-control w-full \">\r\n              <input\r\n                required\r\n                type=\"password\"\r\n                name=\"re_new_password\"\r\n                value={re_new_password}\r\n                autoComplete=\"off\"\r\n                onChange={(e) => onChange(e)}\r\n                placeholder=\"Confirm New Password\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <button className=\"btn\" type=\"submit\">\r\n                SAVE\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href=\"/login\"\r\n                className=\"text-sm text-gray-600 hover:underline hover:text-blue-600\"\r\n              >\r\n                Remembered password? Login\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { reset_password_confirm })(ResetPasswordConfirm);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}