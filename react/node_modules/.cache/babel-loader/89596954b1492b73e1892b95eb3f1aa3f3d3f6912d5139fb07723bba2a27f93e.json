{"ast":null,"code":"import e, { useRef as t, useEffect as n } from \"react\";\nimport { createRoot as o } from \"react-dom/client\";\nfunction c(c, r, d) {\n  const u = {\n      count: 0\n    },\n    i = e => {\n      const o = t(u.count);\n      return n(() => {\n        o.current += 1, o.current === u.count + 1 && (o.current -= 1, r.setState(e));\n      }), null;\n    };\n  if (i.displayName = `((${c})) devtool`, \"undefined\" == typeof document) return;\n  if (!d) {\n    let e = document.getElementById(`simple-zustand-devtools-${c}`);\n    e || (e = document.createElement(\"div\"), e.id = `simple-zustand-devtools-${c}`), document.body.appendChild(e), d = e;\n  }\n  const m = o(d),\n    s = t => {\n      t && (m.render(e.createElement(i, Object.assign({}, t))), u.count += 1);\n    };\n  s(r.getState()), r.subscribe(s);\n}\nexport { c as mountStoreDevtool };","map":{"version":3,"names":["c","r","d","u","count","i","e","o","t","n","current","setState","displayName","document","getElementById","createElement","id","body","appendChild","m","s","render","Object","assign","getState","subscribe","mountStoreDevtool"],"sources":["D:\\Japhe\\Code\\ewriters-mega\\e\\ewriters\\node_modules\\simple-zustand-devtools\\src\\index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { UseStore } from 'zustand';\n\nexport function mountStoreDevtool<T extends object = Record<string | number | symbol, any>>(\n  storeName: string,\n  store: UseStore<T>,\n  rootElement?: HTMLElement\n) {\n  type StoreState = ReturnType<UseStore<T>['getState']>;\n\n  const externalUpdates = {\n    count: 0,\n  };\n\n  const ZustandDevtool: React.FC<StoreState> = props => {\n    const allUpdatesCount = useRef(externalUpdates.count);\n\n    useEffect(() => {\n      allUpdatesCount.current += 1;\n      if (allUpdatesCount.current === externalUpdates.count + 1) {\n        allUpdatesCount.current -= 1;\n\n        // DevTools update\n        store.setState(props);\n      }\n    });\n\n    return null;\n  };\n\n  (ZustandDevtool as any).displayName = `((${storeName})) devtool`;\n  \n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (!rootElement) {\n    let root = document.getElementById(`simple-zustand-devtools-${storeName}`);\n    if (!root) {\n      root = document.createElement('div');\n      root.id = `simple-zustand-devtools-${storeName}`;\n    }\n\n    document.body.appendChild(root);\n    rootElement = root;\n  }\n  const newRoot = createRoot(rootElement)\n  const renderDevtool = (state: StoreState | void) => {\n    if (!state) {\n      return;\n    }\n    newRoot.render(<ZustandDevtool {...state} />);\n    externalUpdates.count += 1;\n  };\n\n  renderDevtool(store.getState());\n  store.subscribe(renderDevtool);\n}\n"],"mappings":";;SAIgBA,EACdA,CAAA,EACAC,CAAA,EACAC,CAAA;EAIA,MAAMC,CAAA,GAAkB;MACtBC,KAAA,EAAO;IAAA;IAGHC,CAAA,GAAuCC,CAAA;MAC3C,MAAMC,CAAA,GAAkBC,CAAA,CAAOL,CAAA,CAAgBC,KAAA;MAY/C,OAVAK,CAAA,CAAU;QACRF,CAAA,CAAgBG,OAAA,IAAW,GACvBH,CAAA,CAAgBG,OAAA,KAAYP,CAAA,CAAgBC,KAAA,GAAQ,MACtDG,CAAA,CAAgBG,OAAA,IAAW,GAG3BT,CAAA,CAAMU,QAAA,CAASL,CAAA;MAAA,IAIZ;IAAA;EAKT,IAFCD,CAAA,CAAuBO,WAAA,QAAmBZ,CAAA,cAEnB,sBAAba,QAAA,EACT;EAGF,KAAKX,CAAA,EAAa;IAChB,IAAII,CAAA,GAAOO,QAAA,CAASC,cAAA,4BAA0Cd,CAAA;IACzDM,CAAA,KACHA,CAAA,GAAOO,QAAA,CAASE,aAAA,CAAc,QAC9BT,CAAA,CAAKU,EAAA,8BAAgChB,CAAA,KAGvCa,QAAA,CAASI,IAAA,CAAKC,WAAA,CAAYZ,CAAA,GAC1BJ,CAAA,GAAcI,CAAA;EAAA;EAEhB,MAAMa,CAAA,GAAUZ,CAAA,CAAWL,CAAA;IACrBkB,CAAA,GAAiBZ,CAAA;MAChBA,CAAA,KAGLW,CAAA,CAAQE,MAAA,CAAOf,CAAA,CAAAS,aAAA,CAACV,CAAA,EAAAiB,MAAA,CAAAC,MAAA,KAAmBf,CAAA,KACnCL,CAAA,CAAgBC,KAAA,IAAS;IAAA;EAG3BgB,CAAA,CAAcnB,CAAA,CAAMuB,QAAA,KACpBvB,CAAA,CAAMwB,SAAA,CAAUL,CAAA;AAAA;AAAA,SAAApB,CAAA,IAAA0B,iBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}