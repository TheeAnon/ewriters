{"ast":null,"code":"import _regeneratorRuntime from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Header from\"../components/Header\";import{useNavigate}from\"react-router-dom\";import{useAuthStore}from\"../store/auth\";import{login}from\"../utils/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),remember_me=_useState4[0],setRemember=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var isLoggedIn=useAuthStore(function(state){return state.isLoggedIn;});useEffect(function(){if(isLoggedIn()){navigate(\"/\");}},[isLoggedIn,navigate]);var resetForm=function resetForm(){setEmail(\"\");setRemember(\"unchecked\");setPassword(\"\");};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$login,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login(email,password);case 3:_yield$login=_context.sent;error=_yield$login.error;if(error){alert(error);}else{navigate(\"/\");resetForm();}case 6:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-5\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email address\",className:\"input input-bordered w-full\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter password\",className:\"input input-bordered w-full\",minLength:6}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label cursor-pointer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Remember me\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"remember_me\",value:remember_me,onChange:function onChange(e){return setRemember(e.target.value);},checked:\"checked\",className:\"checkbox\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/forgot-password\",className:\"text-sm text-gray-600 hover:underline hover:text-blue-600\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"text-sm text-gray-600 hover:underline hover:text-blue-600\",children:\"Don't have an account? Sign up\"})})]})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","Header","useNavigate","useAuthStore","login","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","remember_me","setRemember","_useState5","_useState6","password","setPassword","isLoggedIn","state","resetForm","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_yield$login","error","wrap","_callee$","_context","prev","next","preventDefault","sent","alert","stop","_x","apply","arguments","children","className","onSubmit","required","type","name","value","onChange","target","placeholder","minLength","checked","href"],"sources":["D:/Japhe/Code/ewriters-mega/e/ewriters/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"../components/Header\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuthStore } from \"../store/auth\";\r\nimport { login } from \"../utils/auth\";\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [remember_me, setRemember] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const isLoggedIn = useAuthStore((state) => state.isLoggedIn);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn()) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [isLoggedIn, navigate]);\r\n\r\n  const resetForm = () => {\r\n    setEmail(\"\");\r\n    setRemember(\"unchecked\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const { error } = await login(email, password);\r\n    if (error) {\r\n      alert(error);\r\n    } else {\r\n      navigate(\"/\");\r\n      resetForm();\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"relative flex flex-col justify-center overflow-hidden mt-3\">\r\n        <div className=\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\">\r\n          <h1 className=\"text-4xl font-bold text-center mb-5\">Login</h1>\r\n          <form className=\"space-y-4\" onSubmit={handleLogin}>\r\n            <div className=\"form-control w-full \">\r\n              <label className=\"label\">Email</label>\r\n              <input\r\n                required\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Email address\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div className=\"form-control w-full\">\r\n              <label className=\"label\">Password</label>\r\n              <input\r\n                required\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Enter password\"\r\n                className=\"input input-bordered w-full\"\r\n                minLength={6}\r\n              />\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div className=\"w-1/2\">\r\n              <label className=\"label cursor-pointer\">\r\n                <span className=\"label-text\">Remember me</span>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"remember_me\"\r\n                  value={remember_me}\r\n                  onChange={(e) => setRemember(e.target.value)}\r\n                  checked=\"checked\"\r\n                  className=\"checkbox\"\r\n                />\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href=\"/forgot-password\"\r\n                className=\"text-sm text-gray-600 hover:underline hover:text-blue-600\"\r\n              >\r\n                Forgot password?\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <button className=\"btn\" type=\"submit\">\r\n                Login\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href=\"/register\"\r\n                className=\"text-sm text-gray-600 hover:underline hover:text-blue-600\"\r\n              >\r\n                Don't have an account? Sign up\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}