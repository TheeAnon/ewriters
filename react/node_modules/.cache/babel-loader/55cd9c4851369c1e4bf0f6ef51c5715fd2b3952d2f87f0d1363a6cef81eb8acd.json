{"ast":null,"code":"import _regeneratorRuntime from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Japhe/Code/ewriters-mega/e/ewriters/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Header from\"../components/Header\";import{useAuthStore}from\"../store/auth\";import{useNavigate}from\"react-router-dom\";import{register}from\"../utils/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),first_name=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),last_name=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var isLoggedIn=useAuthStore(function(state){return state.isLoggedIn;});var navigate=useNavigate();useEffect(function(){if(isLoggedIn()){navigate(\"/\");}},[isLoggedIn,navigate]);var resetForm=function resetForm(){setFirstName(\"\");setLastName(\"\");setEmail(\"\");setPassword(\"\");};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$register,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return register(first_name,last_name,email,password);case 3:_yield$register=_context.sent;error=_yield$register.error;if(error){alert(JSON.stringify(error));}else{navigate(\"/\");resetForm();}case 6:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"first_name\",value:first_name,onChange:function onChange(e){return setFirstName(e.target.value);},placeholder:\"Enter First Name\",className:\"input input-bordered w-full\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"last_name\",value:last_name,onChange:function onChange(e){return setLastName(e.target.value);},placeholder:\"Enter Last Name\",className:\"input input-bordered w-full\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email address\",className:\"input input-bordered w-full\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter password\",className:\"input input-bordered w-full\",minLength:6}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt\",children:\"Atleast 6 characters long\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-text-alt text-red-500 hidden\",children:\"Error\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-sm text-gray-600 hover:underline hover:text-blue-600\",children:\"Already have an account? Login\"})})]})]})})]});}export default Register;","map":{"version":3,"names":["React","useEffect","useState","Header","useAuthStore","useNavigate","register","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","first_name","setFirstName","_useState3","_useState4","last_name","setLastName","_useState5","_useState6","email","setEmail","_useState7","_useState8","password","setPassword","isLoggedIn","state","navigate","resetForm","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_yield$register","error","wrap","_callee$","_context","prev","next","preventDefault","sent","alert","JSON","stringify","stop","_x","apply","arguments","children","className","onSubmit","required","type","name","value","onChange","target","placeholder","minLength","href"],"sources":["D:/Japhe/Code/ewriters-mega/e/ewriters/src/pages/Register.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { useAuthStore } from \"../store/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { register } from \"../utils/auth\";\r\n\r\nfunction Register() {\r\n  const [first_name, setFirstName] = useState(\"\");\r\n  const [last_name, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const isLoggedIn = useAuthStore((state) => state.isLoggedIn);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn()) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [isLoggedIn, navigate]);\r\n\r\n  const resetForm = () => {\r\n    setFirstName(\"\");\r\n    setLastName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { error } = await register(first_name, last_name, email, password);\r\n    if (error) {\r\n      alert(JSON.stringify(error));\r\n    } else {\r\n      navigate(\"/\");\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"relative flex flex-col justify-center overflow-hidden\">\r\n        <div className=\"w-full p-6 m-auto bg-white rounded-md shadow-md sm:max-w-lg\">\r\n          <h1 className=\"text-4xl font-bold text-center mb-5\">Sign up</h1>\r\n          <form className=\"space-y-4\" onSubmit={handleSubmit}>\r\n            <div className=\"form-control w-full\">\r\n              <label className=\"label\">First Name</label>\r\n              <input\r\n                required\r\n                type=\"text\"\r\n                name=\"first_name\"\r\n                value={first_name}\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n                placeholder=\"Enter First Name\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div className=\"form-control w-full\">\r\n              <label className=\"label\">Last Name</label>\r\n              <input\r\n                required\r\n                type=\"text\"\r\n                name=\"last_name\"\r\n                value={last_name}\r\n                onChange={(e) => setLastName(e.target.value)}\r\n                placeholder=\"Enter Last Name\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div className=\"form-control w-full \">\r\n              <label className=\"label\">Email</label>\r\n              <input\r\n                required\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Email address\"\r\n                className=\"input input-bordered w-full\"\r\n              />\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div className=\"form-control w-full\">\r\n              <label className=\"label\">Password</label>\r\n              <input\r\n                required\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Enter password\"\r\n                className=\"input input-bordered w-full\"\r\n                minLength={6}\r\n              />\r\n              <label className=\"label-text-alt\">\r\n                Atleast 6 characters long\r\n              </label>\r\n              <label className=\"label-text-alt text-red-500 hidden\">\r\n                Error\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <button className=\"btn\" type=\"submit\">\r\n                Register\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href=\"/login\"\r\n                className=\"text-sm text-gray-600 hover:underline hover:text-blue-600\"\r\n              >\r\n                Already have an account? Login\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}