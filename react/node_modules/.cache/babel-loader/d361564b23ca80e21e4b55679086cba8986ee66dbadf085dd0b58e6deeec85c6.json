{"ast":null,"code":"import _objectSpread from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESS,USER_LOADED_FAIL,AUTHENTICATED_SUCCESS,AUTHENTICATED_FAIL,PASSWORD_RESET_FAIL,PASSWORD_RESET_SUCCESS,PASSWORD_RESET_CONFIRM_FAIL,PASSWORD_RESET_CONFIRM_SUCCESS,SIGNUP_FAIL,SIGNUP_SUCCESS,ACTIVATION_FAIL,ACTIVATION_SUCCESS,LOGOUT}from\"../actions/types\";var initialState={access:localStorage.getItem(\"access\"),refresh:localStorage.getItem(\"refresh\"),isAuthenticated:null,user:null};export default function Auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case AUTHENTICATED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true});case LOGIN_SUCCESS:localStorage.setItem(\"access\",payload.access);localStorage.setItem(\"refresh\",payload.refresh);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case SIGNUP_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case USER_LOADED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload});case AUTHENTICATED_FAIL:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});case USER_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case LOGIN_FAIL:case SIGNUP_FAIL:case LOGOUT:localStorage.removeItem(\"access\");localStorage.removeItem(\"refresh\");return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,access:null,refresh:null,user:null});case PASSWORD_RESET_FAIL:case PASSWORD_RESET_SUCCESS:case PASSWORD_RESET_CONFIRM_FAIL:case PASSWORD_RESET_CONFIRM_SUCCESS:case ACTIVATION_FAIL:case ACTIVATION_SUCCESS:return _objectSpread({},state);default:return state;}}","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","AUTHENTICATED_SUCCESS","AUTHENTICATED_FAIL","PASSWORD_RESET_FAIL","PASSWORD_RESET_SUCCESS","PASSWORD_RESET_CONFIRM_FAIL","PASSWORD_RESET_CONFIRM_SUCCESS","SIGNUP_FAIL","SIGNUP_SUCCESS","ACTIVATION_FAIL","ACTIVATION_SUCCESS","LOGOUT","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","Auth","state","arguments","length","undefined","action","type","payload","_objectSpread","setItem","removeItem"],"sources":["D:/Japhe/Code/django-react/ewriters/react/src/reducers/auth.js"],"sourcesContent":["import {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  USER_LOADED_SUCCESS,\r\n  USER_LOADED_FAIL,\r\n  AUTHENTICATED_SUCCESS,\r\n  AUTHENTICATED_FAIL,\r\n  PASSWORD_RESET_FAIL,\r\n  PASSWORD_RESET_SUCCESS,\r\n  PASSWORD_RESET_CONFIRM_FAIL,\r\n  PASSWORD_RESET_CONFIRM_SUCCESS,\r\n  SIGNUP_FAIL,\r\n  SIGNUP_SUCCESS,\r\n  ACTIVATION_FAIL,\r\n  ACTIVATION_SUCCESS,\r\n  LOGOUT,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  access: localStorage.getItem(\"access\"),\r\n  refresh: localStorage.getItem(\"refresh\"),\r\n  isAuthenticated: null,\r\n  user: null,\r\n};\r\n\r\nexport default function Auth(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case AUTHENTICATED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem(\"access\", payload.access);\r\n      localStorage.setItem(\"refresh\", payload.refresh);\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        access: payload.access,\r\n        refresh: payload.refresh,\r\n      };\r\n\r\n    case SIGNUP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        access: payload.access,\r\n        refresh: payload.refresh,\r\n      };\r\n\r\n    case USER_LOADED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n    case AUTHENTICATED_FAIL:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n      };\r\n    case USER_LOADED_FAIL:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n      };\r\n    case LOGIN_FAIL:\r\n    case SIGNUP_FAIL:\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        access: null,\r\n        refresh: null,\r\n        user: null,\r\n      };\r\n    case PASSWORD_RESET_FAIL:\r\n    case PASSWORD_RESET_SUCCESS:\r\n    case PASSWORD_RESET_CONFIRM_FAIL:\r\n    case PASSWORD_RESET_CONFIRM_SUCCESS:\r\n    case ACTIVATION_FAIL:\r\n    case ACTIVATION_SUCCESS:\r\n      return {\r\n        ...state,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"8HAAA,OACEA,aAAa,CACbC,UAAU,CACVC,mBAAmB,CACnBC,gBAAgB,CAChBC,qBAAqB,CACrBC,kBAAkB,CAClBC,mBAAmB,CACnBC,sBAAsB,CACtBC,2BAA2B,CAC3BC,8BAA8B,CAC9BC,WAAW,CACXC,cAAc,CACdC,eAAe,CACfC,kBAAkB,CAClBC,MAAM,KACD,kBAAkB,CAEzB,GAAM,CAAAC,YAAY,CAAG,CACnBC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACtCC,OAAO,CAAEF,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CACxCE,eAAe,CAAE,IAAI,CACrBC,IAAI,CAAE,IACR,CAAC,CAED,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAA+B,IAA9B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGT,YAAY,IAAE,CAAAY,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACvD,GAAQ,CAAAE,IAAI,CAAcD,MAAM,CAAxBC,IAAI,CAAEC,OAAO,CAAKF,MAAM,CAAlBE,OAAO,CAErB,OAAQD,IAAI,EACV,IAAK,CAAAxB,qBAAqB,CACxB,OAAA0B,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRH,eAAe,CAAE,IAAI,GAEzB,IAAK,CAAApB,aAAa,CAChBiB,YAAY,CAACc,OAAO,CAAC,QAAQ,CAAEF,OAAO,CAACb,MAAM,CAAC,CAC9CC,YAAY,CAACc,OAAO,CAAC,SAAS,CAAEF,OAAO,CAACV,OAAO,CAAC,CAChD,OAAAW,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRH,eAAe,CAAE,IAAI,CACrBJ,MAAM,CAAEa,OAAO,CAACb,MAAM,CACtBG,OAAO,CAAEU,OAAO,CAACV,OAAO,GAG5B,IAAK,CAAAR,cAAc,CACjB,OAAAmB,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRH,eAAe,CAAE,IAAI,CACrBJ,MAAM,CAAEa,OAAO,CAACb,MAAM,CACtBG,OAAO,CAAEU,OAAO,CAACV,OAAO,GAG5B,IAAK,CAAAjB,mBAAmB,CACtB,OAAA4B,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRF,IAAI,CAAEQ,OAAO,GAEjB,IAAK,CAAAxB,kBAAkB,CACrB,OAAAyB,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRH,eAAe,CAAE,KAAK,GAE1B,IAAK,CAAAjB,gBAAgB,CACnB,OAAA2B,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRF,IAAI,CAAE,IAAI,GAEd,IAAK,CAAApB,UAAU,CACf,IAAK,CAAAS,WAAW,CAChB,IAAK,CAAAI,MAAM,CACTG,YAAY,CAACe,UAAU,CAAC,QAAQ,CAAC,CACjCf,YAAY,CAACe,UAAU,CAAC,SAAS,CAAC,CAClC,OAAAF,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRH,eAAe,CAAE,KAAK,CACtBJ,MAAM,CAAE,IAAI,CACZG,OAAO,CAAE,IAAI,CACbE,IAAI,CAAE,IAAI,GAEd,IAAK,CAAAf,mBAAmB,CACxB,IAAK,CAAAC,sBAAsB,CAC3B,IAAK,CAAAC,2BAA2B,CAChC,IAAK,CAAAC,8BAA8B,CACnC,IAAK,CAAAG,eAAe,CACpB,IAAK,CAAAC,kBAAkB,CACrB,OAAAiB,aAAA,IACKP,KAAK,EAEZ,QACE,MAAO,CAAAA,KAAK,CAChB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}