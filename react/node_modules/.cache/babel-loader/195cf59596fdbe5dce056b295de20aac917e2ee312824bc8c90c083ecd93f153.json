{"ast":null,"code":"import{useEffect}from\"react\";import{checkAuthenticated,load_user,googleAuth}from\"../actions/auth\";import{connect}from\"react-redux\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Layout=function Layout(props){var location=useLocation;var querystring=require(\"querystring\");useEffect(function(){var values=querystring.parse(location.search);var state=values.state?values.state:null;var code=values.code?values.code:null;if(state&&code){props.googleAuth(state,code);}else{props.checkAuthenticated();props.load_user();}},[location,props,querystring]);return/*#__PURE__*/_jsx(\"div\",{children:props.children});};export default connect(null,{checkAuthenticated:checkAuthenticated,load_user:load_user,googleAuth:googleAuth})(Layout);","map":{"version":3,"names":["useEffect","checkAuthenticated","load_user","googleAuth","connect","useLocation","jsx","_jsx","Layout","props","location","querystring","require","values","parse","search","state","code","children"],"sources":["D:/Japhe/Code/django-react/ewriters/react/src/hocs/Layout.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { checkAuthenticated, load_user, googleAuth } from \"../actions/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Layout = (props) => {\r\n  let location = useLocation;\r\n  var querystring = require(\"querystring\");\r\n\r\n  useEffect(() => {\r\n    const values = querystring.parse(location.search);\r\n    const state = values.state ? values.state : null;\r\n    const code = values.code ? values.code : null;\r\n\r\n    if (state && code) {\r\n      props.googleAuth(state, code);\r\n    } else {\r\n      props.checkAuthenticated();\r\n      props.load_user();\r\n    }\r\n  }, [location, props, querystring]);\r\n\r\n  return <div>{props.children}</div>;\r\n};\r\n\r\nexport default connect(null, { checkAuthenticated, load_user, googleAuth })(\r\n  Layout\r\n);\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,kBAAkB,CAAEC,SAAS,CAAEC,UAAU,KAAQ,iBAAiB,CAC3E,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIC,KAAK,CAAK,CACxB,GAAI,CAAAC,QAAQ,CAAGL,WAAW,CAC1B,GAAI,CAAAM,WAAW,CAAGC,OAAO,CAAC,aAAa,CAAC,CAExCZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAAa,MAAM,CAAGF,WAAW,CAACG,KAAK,CAACJ,QAAQ,CAACK,MAAM,CAAC,CACjD,GAAM,CAAAC,KAAK,CAAGH,MAAM,CAACG,KAAK,CAAGH,MAAM,CAACG,KAAK,CAAG,IAAI,CAChD,GAAM,CAAAC,IAAI,CAAGJ,MAAM,CAACI,IAAI,CAAGJ,MAAM,CAACI,IAAI,CAAG,IAAI,CAE7C,GAAID,KAAK,EAAIC,IAAI,CAAE,CACjBR,KAAK,CAACN,UAAU,CAACa,KAAK,CAAEC,IAAI,CAAC,CAC/B,CAAC,IAAM,CACLR,KAAK,CAACR,kBAAkB,CAAC,CAAC,CAC1BQ,KAAK,CAACP,SAAS,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACQ,QAAQ,CAAED,KAAK,CAAEE,WAAW,CAAC,CAAC,CAElC,mBAAOJ,IAAA,QAAAW,QAAA,CAAMT,KAAK,CAACS,QAAQ,CAAM,CAAC,CACpC,CAAC,CAED,cAAe,CAAAd,OAAO,CAAC,IAAI,CAAE,CAAEH,kBAAkB,CAAlBA,kBAAkB,CAAEC,SAAS,CAATA,SAAS,CAAEC,UAAU,CAAVA,UAAW,CAAC,CAAC,CACzEK,MACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}