{"ast":null,"code":"import _defineProperty from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Header from\"../components/Header\";import{reset_password}from\"../actions/auth\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(_ref){var reset_password=_ref.reset_password;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),linkSent=_useState2[0],setLinkSent=_useState2[1];var _useState3=useState({email:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var email=formData.email;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();reset_password(email);setLinkSent(true);};var sentLink=function sentLink(){return/*#__PURE__*/_jsx(\"p\",{className:\"p-5 mt-4\",children:\"A link has been sent to your email address. Follow the link to reset your password.\"});};var form=function form(){return/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",className:\"space-y-4 pt-10\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control w-full \",children:/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",value:email,autoComplete:\"off\",onChange:function onChange(e){return _onChange(e);},placeholder:\"Email address\",className:\"input input-bordered w-full\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Send Link\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-sm text-gray-600 hover:underline hover:text-blue-600\",children:\"Remembered password? Login\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center overflow-hidden p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-5\",children:linkSent?\"Password Reset Link Sent\":\"Reset Password\"}),linkSent?sentLink():form()]})})})]});}export default connect(null,{reset_password:reset_password})(ResetPassword);","map":{"version":3,"names":["React","useState","Header","reset_password","connect","jsx","_jsx","jsxs","_jsxs","ResetPassword","_ref","_useState","_useState2","_slicedToArray","linkSent","setLinkSent","_useState3","email","_useState4","formData","setFormData","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","preventDefault","sentLink","className","children","form","autoComplete","required","type","placeholder","href"],"sources":["D:/Japhe/Code/django-react/ewriters/react/src/pages/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { reset_password } from \"../actions/auth\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction ResetPassword({ reset_password }) {\r\n  const [linkSent, setLinkSent] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n  });\r\n\r\n  const { email } = formData;\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    reset_password(email);\r\n    setLinkSent(true);\r\n  };\r\n\r\n  const sentLink = () => (\r\n    <p className=\"p-5 mt-4\">\r\n      A link has been sent to your email address. Follow the link to reset your\r\n      password.\r\n    </p>\r\n  );\r\n\r\n  const form = () => (\r\n    <form\r\n      autoComplete=\"off\"\r\n      className=\"space-y-4 pt-10\"\r\n      onSubmit={(e) => onSubmit(e)}\r\n    >\r\n      <div className=\"form-control w-full \">\r\n        <input\r\n          required\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          autoComplete=\"off\"\r\n          onChange={(e) => onChange(e)}\r\n          placeholder=\"Email address\"\r\n          className=\"input input-bordered w-full\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button className=\"btn\" type=\"submit\">\r\n          Send Link\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <a\r\n          href=\"/login\"\r\n          className=\"text-sm text-gray-600 hover:underline hover:text-blue-600\"\r\n        >\r\n          Remembered password? Login\r\n        </a>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"relative flex flex-col justify-center overflow-hidden p-4\">\r\n        <div className=\"w-full p-6 m-auto bg-white rounded-md sm:max-w-lg\">\r\n          <div className=\"flex flex-col mb-2\">\r\n            <h1 className=\"text-4xl font-bold text-center mb-5\">\r\n              {linkSent ? \"Password Reset Link Sent\" : \"Reset Password\"}\r\n            </h1>\r\n            {linkSent ? sentLink() : form()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { reset_password })(ResetPassword);\r\n"],"mappings":"8XAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,cAAc,KAAQ,iBAAiB,CAChD,OAASC,OAAO,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAqB,IAAlB,CAAAP,cAAc,CAAAO,IAAA,CAAdP,cAAc,CACrC,IAAAQ,SAAA,CAAgCV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCf,QAAQ,CAAC,CACvCgB,KAAK,CAAE,EACT,CAAC,CAAC,CAAAC,UAAA,CAAAL,cAAA,CAAAG,UAAA,IAFKG,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAI5B,GAAQ,CAAAD,KAAK,CAAKE,QAAQ,CAAlBF,KAAK,CAEb,GAAM,CAAAI,SAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,QACjB,CAAAF,WAAW,CAAAG,aAAA,CAAAA,aAAA,IAAMJ,QAAQ,KAAAK,eAAA,IAAGF,CAAC,CAACG,MAAM,CAACC,IAAI,CAAGJ,CAAC,CAACG,MAAM,CAACE,KAAK,EAAE,CAAC,GAE/D,GAAM,CAAAC,SAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIN,CAAC,CAAK,CACtBA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClB1B,cAAc,CAACc,KAAK,CAAC,CACrBF,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,GAAM,CAAAe,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,qBACZxB,IAAA,MAAGyB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,qFAGxB,CAAG,CAAC,EACL,CAED,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,qBACRzB,KAAA,SACE0B,YAAY,CAAC,KAAK,CAClBH,SAAS,CAAC,iBAAiB,CAC3BH,QAAQ,CAAE,SAAAA,SAACN,CAAC,QAAK,CAAAM,SAAQ,CAACN,CAAC,CAAC,EAAC,CAAAU,QAAA,eAE7B1B,IAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnC1B,IAAA,UACE6B,QAAQ,MACRC,IAAI,CAAC,OAAO,CACZV,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEV,KAAM,CACbiB,YAAY,CAAC,KAAK,CAClBb,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAD,SAAQ,CAACC,CAAC,CAAC,EAAC,CAC7Be,WAAW,CAAC,eAAe,CAC3BN,SAAS,CAAC,6BAA6B,CACxC,CAAC,CACC,CAAC,cACNzB,IAAA,QAAA0B,QAAA,cACE1B,IAAA,WAAQyB,SAAS,CAAC,KAAK,CAACK,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,WAEtC,CAAQ,CAAC,CACN,CAAC,cACN1B,IAAA,QAAA0B,QAAA,cACE1B,IAAA,MACEgC,IAAI,CAAC,QAAQ,CACbP,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACtE,4BAED,CAAG,CAAC,CACD,CAAC,EACF,CAAC,EACR,CAED,mBACExB,KAAA,QAAAwB,QAAA,eACE1B,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVI,IAAA,QAAKyB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxE1B,IAAA,QAAKyB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChExB,KAAA,QAAKuB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC1B,IAAA,OAAIyB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAChDlB,QAAQ,CAAG,0BAA0B,CAAG,gBAAgB,CACvD,CAAC,CACJA,QAAQ,CAAGgB,QAAQ,CAAC,CAAC,CAAGG,IAAI,CAAC,CAAC,EAC5B,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA7B,OAAO,CAAC,IAAI,CAAE,CAAED,cAAc,CAAdA,cAAe,CAAC,CAAC,CAACM,aAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}