{"ast":null,"code":"import _objectSpread from\"D:/Japhe/Code/django-react/ewriters/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESS,USER_LOADED_FAIL}from\"../actions/types\";var initialState={access:localStorage.getItem(\"access\"),refresh:localStorage.getItem(\"refresh\"),isAuthenticated:null,user:null};export default function Auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:localStorage.setItem(\"access\",payload.access);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case USER_LOADED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload});case USER_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case LOGIN_FAIL:localStorage.removeItem(\"access\");localStorage.removeItem(\"refresh\");return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,access:null,refresh:null,user:null});default:return state;}}","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","Auth","state","arguments","length","undefined","action","type","payload","setItem","_objectSpread","removeItem"],"sources":["D:/Japhe/Code/django-react/ewriters/react/src/reducers/auth.js"],"sourcesContent":["import {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  USER_LOADED_SUCCESS,\r\n  USER_LOADED_FAIL,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  access: localStorage.getItem(\"access\"),\r\n  refresh: localStorage.getItem(\"refresh\"),\r\n  isAuthenticated: null,\r\n  user: null,\r\n};\r\n\r\nexport default function Auth(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem(\"access\", payload.access);\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        access: payload.access,\r\n        refresh: payload.refresh,\r\n      };\r\n    case USER_LOADED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n    case USER_LOADED_FAIL:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n      };\r\n    case LOGIN_FAIL:\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        access: null,\r\n        refresh: null,\r\n        user: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"8HAAA,OACEA,aAAa,CACbC,UAAU,CACVC,mBAAmB,CACnBC,gBAAgB,KACX,kBAAkB,CAEzB,GAAM,CAAAC,YAAY,CAAG,CACnBC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACtCC,OAAO,CAAEF,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CACxCE,eAAe,CAAE,IAAI,CACrBC,IAAI,CAAE,IACR,CAAC,CAED,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAA+B,IAA9B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGT,YAAY,IAAE,CAAAY,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACvD,GAAQ,CAAAE,IAAI,CAAcD,MAAM,CAAxBC,IAAI,CAAEC,OAAO,CAAKF,MAAM,CAAlBE,OAAO,CAErB,OAAQD,IAAI,EACV,IAAK,CAAAjB,aAAa,CAChBM,YAAY,CAACa,OAAO,CAAC,QAAQ,CAAED,OAAO,CAACb,MAAM,CAAC,CAC9C,OAAAe,aAAA,CAAAA,aAAA,IACKR,KAAK,MACRH,eAAe,CAAE,IAAI,CACrBJ,MAAM,CAAEa,OAAO,CAACb,MAAM,CACtBG,OAAO,CAAEU,OAAO,CAACV,OAAO,GAE5B,IAAK,CAAAN,mBAAmB,CACtB,OAAAkB,aAAA,CAAAA,aAAA,IACKR,KAAK,MACRF,IAAI,CAAEQ,OAAO,GAEjB,IAAK,CAAAf,gBAAgB,CACnB,OAAAiB,aAAA,CAAAA,aAAA,IACKR,KAAK,MACRF,IAAI,CAAE,IAAI,GAEd,IAAK,CAAAT,UAAU,CACbK,YAAY,CAACe,UAAU,CAAC,QAAQ,CAAC,CACjCf,YAAY,CAACe,UAAU,CAAC,SAAS,CAAC,CAClC,OAAAD,aAAA,CAAAA,aAAA,IACKR,KAAK,MACRH,eAAe,CAAE,KAAK,CACtBJ,MAAM,CAAE,IAAI,CACZG,OAAO,CAAE,IAAI,CACbE,IAAI,CAAE,IAAI,GAEd,QACE,MAAO,CAAAE,KAAK,CAChB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}